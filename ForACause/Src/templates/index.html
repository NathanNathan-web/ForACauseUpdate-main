{% extends "base.html" %}
{% block title %}ForACause - Home{% endblock %}
{% block content %}

<section class="main py-2">
    <div class="container py-2">
        <div class="col-lg-6">
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{ category }}">
                {{ message }}
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}
        </div>
        <div class="row col-sm py-5">
            <div class="col-lg-6 py-5">
                <p>Support a Cause</p>
                <h1 class="col-sm"><span style="color:#000080;">ForACause</span></h1>
                <div class="line"></div>
                <p>Get involved by volunteering or supporting our beneficiaries by purchasing products theyâ€™ve made.
                    Your support helps create meaningful change in their lives!</p>
                <a href="/product"><button class="mbtn1">Shop Now</button></a>
            </div>
        </div>
    </div>
</section>

<section class="voucher py-5">
    <div class="container py-5">
        <div class="row col-sm py-5">
            <div class="col-lg-7 py-5 offset-lg-5 col-md-6 col-sm-12 col-12">
                <p class="">Unlock the door to great discounts and offers</p>
                <h1 class="col-sm">Limited Time Offer<br> <span style="color:#000080">Redeem Your Voucher
                        Now!</span></h1>
                <div class="line"></div>
                <p>Unlock the door to great discounts and offers</p>
                <a href="/voucher"><button class="mbtn1">Vouchers</button></a>
            </div>
        </div>
    </div>
</section>
<section class="chatbot-section">
    <style>
      .chatbot-container {
        position: fixed;
        bottom: 30px;
        right: 30px;
        z-index: 1000;
        transition: all 0.4s ease;
      }
      .ai-logo {
        width: 70px;
        height: 70px;
        background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
      }
      .ai-logo:hover {
        transform: scale(1.1) rotate(10deg);
      }
      .ai-logo img {
        width: 40px;
        height: 40px;
      }
      .chatbot-popup {
        position: absolute;
        bottom: 90px;
        right: 0;
        width: 350px;
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        opacity: 0;
        visibility: hidden;
        transform: translateY(20px);
        transition: all 0.4s ease;
        overflow: hidden;
      }
      .chatbot-popup.active {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }
      .popup-header {
        background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
        color: white;
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .popup-header h2 {
        margin: 0;
        font-size: 1rem;
      }
      .close-btn {
        background: none;
        border: none;
        color: white;
        font-size: 1.2rem;
        cursor: pointer;
      }
      .chat-messages {
        height: 400px;
        overflow-y: auto;
        padding: 15px;
        background-color: #f8f9fa;
      }
      .chat-input-area {
        display: flex;
        padding: 15px;
        background-color: white;
        border-top: 1px solid #dee2e6;
      }
      .chat-input {
        flex-grow: 1;
        border: 1px solid #ced4da;
        border-radius: 20px;
        padding: 10px 15px;
        margin-right: 10px;
      }
      .send-btn {
        background-color: #6c757d;
        color: white;
        border: none;
        border-radius: 20px;
        padding: 10px 15px;
      }
    </style>
  
    <div class="chatbot-container">
      <div class="chatbot-popup" id="chatbot-popup">
        <div class="popup-header">
          <h2>Chat with Us</h2>
          <button class="close-btn" id="close-chat">&times;</button>
        </div>
        <div class="chat-messages" id="chat-messages">
          <!-- Chat messages will be added here -->
        </div>
        <div class="chat-input-area">
          <input 
            type="text" 
            class="chat-input" 
            id="chat-input" 
            placeholder="Type your message..."
          >
          <button class="send-btn" id="send-btn">Send</button>
        </div>
      </div>
      <div class="ai-logo" id="ai-logo">
        <img src="{{ url_for('static', filename='images/Chatbot.jpg') }}" alt="AI Logo">
    </div>
  
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const aiLogo = document.getElementById('ai-logo');
        const chatbotPopup = document.getElementById('chatbot-popup');
        const closeChatBtn = document.getElementById('close-chat');
  
        aiLogo.addEventListener('click', () => {
          chatbotPopup.classList.toggle('active');
        });
  
        closeChatBtn.addEventListener('click', () => {
          chatbotPopup.classList.remove('active');
        });
      });
    </script>
  </section>
{% endblock %}